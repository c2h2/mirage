<p><%= Youtube.all.count %></p>

<script type="text/javascript">
  $(document).ready(function(){
    var input = $(this);
    $("input").click(function(event){
      the_id = $(this).attr("id");
      chk = $(this).is(':checked');
      $.ajax({
        url: '/ajax/'.concat(the_id).concat("/").concat(chk),
        success: function(data){
          $.gritter.add({
            title: 'Success!',
            text: data,
            image: '',
            sticky: false,
            time: ''
          });
        }
      });
    });
  });

</script>
	

<table class="table table-bordered">
	<tr>
		<th>Youtube ID</th>
		<th>Thumb</th>
		<th>Title</th>
		<th>Uploader</th>
		<th>URL</th>
		<th>DL?</th>
		<th>SHA1</th>
	</tr>
	
	<% Youtube.where(:state => 0).desc("title").limit(200).each_with_index do |y,i| %>
	<tr>
		<td><%= y.yid %></td>
		<td><%= y.thumb %></td>
		<td><%= y.title %></td>
		<td><%= y.uploader %></td>
		<td><%= y.fn %></td>
		<td><input type="checkbox" id="<%= y.yid %>" <%= y.if_download ? "checked" : "" %>></input></td>
		<td><%= y.sha1 %></td>
	</tr>
	<% end %>

</table>
